<!DOCTYPE html>
<html lang="en">

<head>
    <title>Free Open-Source Invoicing, Expenses &amp; Time-Tracking | Invoice Ninja</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="referrer" content="always">
    <link rel="canonical" href="https://invoiceninja.github.io/docs/self-host-updating">
    <meta name="description" content="The leading free open-source online invoicing app for freelancers &amp; businesses. Invoice, accept payments, track expenses, create proposals, &amp; time-tasks">

    <link rel="stylesheet" href="/assets/build/css/main.css?id=33c819d708c26c9fb990">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

        <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/agate.min.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>

    <script>hljs.highlightAll();</script>
</head>

<nav class="py-4 sticky top-0 z-40 lg:z-50 w-full mx-auto bg-white border-b">
    <div id="navigation-content" class="flex items-center justify-between px-4 md:px-0 md:mx-4 lg:px-4 xl:mx-auto max-w-8xl">
        <a href="/" id="left-side-logo">
            <img class="h-8"
                 src="/assets/images/logo.png"
                 alt="Invoice Ninja logo"/>
        </a>
        <section id="right-side-items" class="text-sm">
            <div class="hidden md:hidden lg:block md:space-x-5">
                <input type="text" placeholder="Quick search ..." id="topSearchBox"
                       class="pb-1 border-b hover:border-ninja-blue focus:border-ninja-blue focus:outline-none">
                <a href="/docs/getting-started" class="py-2 border-b border-transparent hover:border-ninja-blue">Documentation</a>
                <a href="https://app.swaggerhub.com/apis/invoiceninja/invoiceninja" target="_blank"
                   class="py-2 border-b border-transparent hover:border-ninja-blue">API Documentation</a>
                <a href="https://app.invoiceninja.com" class="px-5 py-2 border rounded-full hover:border-ninja-blue">Go
                    to app</a>
            </div>
            <div class="flex flex-col lg:hidden">
                <button id="mobile-menu-toggle" class="focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-menu">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
            </div>
        </section>
    </div>
    <div id="mobile-menu" class="hidden px-4 pt-4 flex flex-col">
        <a href="/docs/getting-started"
           class="py-2 border-b border-transparent hover:border-ninja-blue">Documentation</a>
        <a href="https://app.swaggerhub.com/apis/invoiceninja/invoiceninja" target="_blank"
           class="py-2 border-b border-transparent hover:border-ninja-blue">API Documentation</a>
        <a href="https://app.invoiceninja.com" target="_blank"
           class="py-2 border-b border-transparent hover:border-ninja-blue">Go to app</a>
    </div>
</nav>
<body class="font-sans antialiased text-gray-900 bg-white ">
        <div class="hidden top-0 absolute z-40 bg-white w-full h-screen" id="mobile-menu-overlay">
       <div class="p-6 flex items-top justify-between">
           <div>
                                  <div clasS="mb-8">
                       <a class="block hover:text-ninja-blue font-semibold uppercase "
                          href="/docs/getting-started">User guide</a>

                       <div class="mt-2">
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/introduction">Introduction</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/clients">Clients</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/invoices">Invoices</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/recurring-invoices">Recurring Invoices</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/subscriptions">Subscriptions</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/settings">Settings</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/custom-fields">PDF customization</a>
                                                  </div>
                   </div>
                                  <div clasS="mb-8">
                       <a class="block hover:text-ninja-blue font-semibold uppercase "
                          href="/docs/developer-guide">Developer guide</a>

                       <div class="mt-2">
                                                  </div>
                   </div>
                                  <div clasS="mb-8">
                       <a class="block hover:text-ninja-blue font-semibold uppercase "
                          href="/docs/self-host-installation">Self host</a>

                       <div class="mt-2">
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/self-host-installation">Installation</a>
                                                          <a class="block hover:text-ninja-blue py-1 text-ninja-blue"
                                  href="/docs/self-host-updating">Updating</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/self-host-troubleshooting">Troubleshooting</a>
                                                  </div>
                   </div>
                                  <div clasS="mb-8">
                       <a class="block hover:text-ninja-blue font-semibold uppercase "
                          href="/docs/migration">Migrating to V5</a>

                       <div class="mt-2">
                                                  </div>
                   </div>
                                  <div clasS="mb-8">
                       <a class="block hover:text-ninja-blue font-semibold uppercase "
                          href="">Legal</a>

                       <div class="mt-2">
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/legal/terms_of_service">Terms of Service</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/legal/data_privacy">Data Privacy</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/legal/self_hosting_data">Selfhost Data Privacy</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/legal/self_hosting_terms">Selfhost Terms</a>
                                                          <a class="block hover:text-ninja-blue py-1 "
                                  href="/docs/legal/gdpr">GDPR</a>
                                                  </div>
                   </div>
                          </div>
           <div>
                <button onclick="document.getElementById('mobile-menu-overlay').classList.add('hidden');">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
           </div>
       </div>
    </div>

    <div class="max-w-8xl grid grid-cols-12 md:gap-16 py-4 px-4 lg:mx-auto">
        <div class="hidden mr-4 space-y-6 md:block lg:col-span-2">
            <div class="hidden lg:block fixed mt-2 h-full overflow-y-auto pb-32 pr-10">
                                    <div clasS="mb-8">
                        <a class="block hover:text-ninja-blue font-semibold uppercase "
                           href="/docs/getting-started">User guide</a>

                        <div class="mt-2">
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/introduction">Introduction</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/clients">Clients</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/invoices">Invoices</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/recurring-invoices">Recurring Invoices</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/subscriptions">Subscriptions</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/settings">Settings</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/custom-fields">PDF customization</a>
                                                    </div>
                    </div>
                                    <div clasS="mb-8">
                        <a class="block hover:text-ninja-blue font-semibold uppercase "
                           href="/docs/developer-guide">Developer guide</a>

                        <div class="mt-2">
                                                    </div>
                    </div>
                                    <div clasS="mb-8">
                        <a class="block hover:text-ninja-blue font-semibold uppercase "
                           href="/docs/self-host-installation">Self host</a>

                        <div class="mt-2">
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/self-host-installation">Installation</a>
                                                            <a class="block hover:text-ninja-blue py-1 text-ninja-blue"
                                   href="/docs/self-host-updating">Updating</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/self-host-troubleshooting">Troubleshooting</a>
                                                    </div>
                    </div>
                                    <div clasS="mb-8">
                        <a class="block hover:text-ninja-blue font-semibold uppercase "
                           href="/docs/migration">Migrating to V5</a>

                        <div class="mt-2">
                                                    </div>
                    </div>
                                    <div clasS="mb-8">
                        <a class="block hover:text-ninja-blue font-semibold uppercase "
                           href="">Legal</a>

                        <div class="mt-2">
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/legal/terms_of_service">Terms of Service</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/legal/data_privacy">Data Privacy</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/legal/self_hosting_data">Selfhost Data Privacy</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/legal/self_hosting_terms">Selfhost Terms</a>
                                                            <a class="block hover:text-ninja-blue py-1 "
                                   href="/docs/legal/gdpr">GDPR</a>
                                                    </div>
                    </div>
                            </div>
        </div> <!-- End of sidebar -->

        <div class="col-span-12 md:col-span-7 p-4 prose mx-auto" style="max-width: 100% !important;" id="page-content">
            <div class="block lg:hidden flex flex-col mb-4 lg:mb-0">
                <button onclick="document.getElementById('mobile-menu-overlay').classList.remove('hidden');">&#8592; Documentation</button>
            </div>

            <h1>Updating Invoice Ninja</h1>

<h3>Docker</h3>

<p>When we tag a new release, a new image is built. All that is required for docker users is to bring down the container, pull in the new image and then bring the container up again, these three commands are all that is needed.</p>

<pre><code class="language-bash">docker-compose down
docker-compose pull
docker-compose up
</code></pre>

<h3>Git users</h3>

<p>If you have installed Invoice Ninja using just git, then all that is required is to pull in the changes, run the migration, update the config cache and restart the queue. These commands are as follows:</p>

<pre><code class="language-bash">git pull
php artisan migrate
php artisan optimize
php artisan queue:restart
</code></pre>

<h3>Shared hosting / ZIP builds</h3>

<p>If you have installed the application using the precompiled .zip file, then the internal self updater should perform all the necessary tasks to bring your app up to the latest version. The only strict requirements are:</p>

<ul>
<li>The directory is owned recursively by the web user.</li>
<li>The scheduler cron is running.</li>
</ul>

<p>The self updater will pull the latest release from our Github repository, extract and overwrite the system files. Prior to attempting any of this, the system performs a recursive file check to ensure <em>all</em> files are owned by the webuser.</p>

<p>If the update button does not work, you can alternatively download the "Source code" and overwrite the folder of your installation, note that there are 3 files always:  https://github.com/invoiceninja/invoiceninja/releases</p>

<pre><code>invoiceninja.zip - 170 MB or 500 MB roughly
Source code (zip) - 15 MB roughly
Source code (tar.gz) - 14 MB roughly
</code></pre>

<p><em>(The 2 "Source code" files are the correct ones, the other is the fully built package which includes the ".env" file, if that file is overwritten, then your configuration is also gone)</em></p>

<p> <div class="p-5 bg-gray-200 border-l-4 border-red-500">
    <span>Please ensure to delete the .git folder prior to attempting updates on v5.1.50 and over. The updater will fail silently if any hidden folders are present.</span>
</div> </p>

            <a href="https://github.com/invoiceninja/invoiceninja.github.io/blob/v5-rework/source/docs/self-host-updating.md"
               class="pt-4 border-t inline-flex items-center w-full block">
                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-github">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                </svg>
                <span class="ml-2">Want to contribute? Edit this page on GitHub!</span>
            </a>
        </div> <!-- End of main content -->

        <div class="hidden md:block col-span-3 p-4">
            <div class="fixed overflow-y-auto pr-10 h-full pb-32" id="toc-container">
                <!-- Placeholder for table of contents -->
                <span class="text-sm uppercase block mb-3 text-ninja-blue">On this page</span>
            </div>
        </div>
    </div>
        <script src="/assets/build/js/main.js?id=f8ae428c8ff7fbb77216"></script>

    <script>
        document.getElementById('mobile-menu-toggle').addEventListener('click', () => {
            let mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenu.classList.contains('hidden')) {
                return mobileMenu.classList.remove('hidden');
            }

            return mobileMenu.classList.add('hidden');
        });
    </script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
        docsearch({
            apiKey: '4816218e8381d5a17beacd84823e9ea3',
            indexName: 'invoiceninja',
            inputSelector: '#topSearchBox',
            debug: false
        });
    </script>
</body>

</html>
